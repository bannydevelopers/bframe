<form method="post" enctype="multipart/form-data" autocomplete="off">
    <div class="flex">
        <div class="contentx">
            <label>Month
              <select name="payroll_month">
                <option>January</option>
                <option>February</option>
                <option>March</option>
                <option>April</option>
                <option>May</option>
                <option>June</option>
                <option>July</option>
                <option>August</option>
                <option>September</option>
                <option>October</option>
                <option>November</option>
                <option>December</option>
              </select>
            </label>
          </div>
          <div class="w-full sm:w-1/2 px-3 my-2 mob:my-0">
            <label>Year
              <select name="payroll_year">
                <option><?=date('Y')-1?></option>
                <option selected><?=date('Y')?></option>
                <option><?=date('Y')+1?></option>
              </select>
            </label>
          </div>
        </div>

        <div class="w-full overflow-hidden rounded-lg shadow-md">
          <div class="w-full overflow-x-auto">
            <h3 class="mb-4 text-l font-small">Salary slips</h3>
            <table class="w-full">
              <thead>
                <tr
                  class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800"
                >
                  <th class="px-4 py-3"><input type="checkbox" onchange="update_checks()"></th>
                  <th class="px-4 py-3">Employee</th>
                  <th class="px-4 py-3">Basic salary</th>
                  <th class="px-4 py-3">Allowance</th>
                  <th class="px-4 py-3">Bonus</th>
                  <th class="px-4 py-3">Gross Salary</th>
                  <th class="px-4 py-3">Deductions</th>
                  <th class="px-4 py-3">Net Salary</th>
                </tr>
              </thead>
              <tbody
                class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800"
              >
              <?php 
              if (is_array($slips) || is_object($slips))
              foreach ($slips as $roll){?>
                <tr id="tr-<?=$roll['slip_id']?>" class="text-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700">
                  <td class="px-4 py-3">
                    <input type="checkbox" name="p_slips[]" value="<?=$roll['slip_id']?>" class="slips-check">
                  </td>
                  <td class="px-4 py-3">
                    <div class="flex items-center text-sm">
                      <div>
                        <p class="font-semibold"><?=ucwords($roll['first_name'])?> <?=ucwords($roll['middle_name'])?> <?=ucwords($roll['last_name'])?></p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-3 text-sm">
                    <?=number_format($roll['basic_salary'])?>
                  </td>
                  <td class="px-4 py-3 text-sm">
                    <?=number_format($roll['allowance'])?>
                  </td>
                  <td class="px-4 py-3 text-sm">
                    <?=number_format($roll['bonus'])?>
                  </td>
                  <td class="px-4 py-3 text-sm">
                    <?=number_format(array_sum([$roll['basic_salary'],$roll['allowance'],$roll['bonus']]))?>
                  </td>
                  <td class="px-4 py-3 text-sm">
                    <?=number_format(array_sum([$roll['health_insurance_fund'],$roll['payee'],
                    $roll['health_insurance_fund'],$roll['social_security_fund'],
                    $roll['worker_compasion_fund'],$roll['education_fund']]))?>
                  </td>
                  <td class="px-4 py-3 text-sm">
                    <?=number_format(array_sum([$roll['basic_salary'],$roll['allowance'],$roll['bonus']])-array_sum([$roll['health_insurance_fund'],$roll['payee'],
                    $roll['health_insurance_fund'],$roll['social_security_fund'],
                    $roll['worker_compasion_fund'],$roll['education_fund']]))?>
                  </td>
                </tr>
            <?php }?>
              </tbody>
          </table>
          </div>
        </div>
        <div class="white" style="flex-shrink: 1;padding: .5em 1em;text-align: right;flex-basis: auto;">
            <!--button type="reset">Reset form</button-->
            <button type="submit" class="primary green">Create</button>
        </div>
    </form>
