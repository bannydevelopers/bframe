<div>
    <div class="content" style="padding-top: 0;">
        <?=(isset($msg) && $msg?$msg:'')?>
        <h3 class="content white" style="box-shadow:0 0 4px #ccc">Create new user</h3>
    </div>
    <form method="post" class="flex" enctype="multipart/form-data">
        <div class="card bg-white">
            <div class="row">
                <div class="mb-3">
                    <label class="form-label" for="full_name">Full name</label>
                    <input class="form-control" type="text" id="full_name" name="full_name" placeholder="Full name" />
                </div>
                    <!--`user_id`, `full_name`, ``, ``, ``, ``, `role`, `trashed`, `extras`-->
                <div class="mb-3">
                    <label class="form-label" for="email">E-mail</label>
                    <input class="form-control" type="email" id="email" name="email" placeholder="E-mail" />
                </div>
                <div class="mb-3">
                    <label class="form-label" for="Phone">Phone</label>
                    <input class="form-control" type="number" id="phone" name="phone" placeholder="Phone" />
                </div>
                <div class="mb-3">
                    <label class="form-label" for="passcode">Password</label>
                    <input class="form-control" type="password" id="passcode" name="passcode" placeholder="Password" />
                </div>
                <div class="mb-3 col-md-6">
                    <label class="form-label" for="status">Status</label>
                    <select class="form-select" name="status" id="status">
                        <option value="active">Active</option>
                        <option value="pending">Pending</option>
                        <option value="locked">Locked</option>
                    </select>
                </div>
                <div class="mb-3 col-md-6">
                    <label class="form-label" for="roles">Role</label>
                    <select class="form-select" name="system_role" id="roles">
                    <?php foreach($roles as $opt){?>
                        <option value="<?=$opt['role_id']?>"><?=$opt['role_name']?></option>
                    <?php }?>
                    </select>
                </div>
            </div>
        </div>
        <div class="card bg-white">
            <div class="rowt">
                <label class="form-label" for="extras">Custom fields</label>
                <div class="row">
                    <div class="col-md-5">
                        <input class="form-control" type="text" class="form-control" name="extras[name][]" placeholder="Field name" style="flex-grow: 1;">
                    </div>
                    <div class="col-md-5">
                        <input class="form-control" type="text" class="form-control" name="extras[value][]" placeholder="Field value" style="flex-grow: 1;">
                    </div>
                    <div class="col-md-2 pt-1">
                        <a id="addbtn" class="btn btn-sm text-success" data-icon="&#xf0fe;" onclick="addbtn(window.event)"></a>
                    </div>
                </div>
            </div>
            <div class="text-end">
                <button type="reset" class="btn btn-sm btn-secondary rounded-pill">Restore</button>
                <button type="submit" class="btn btn-sm btn-primary rounded-pill">Save</button>
            </div>
        </div>
    </form>
</div>
<style>
    #addbtn,.minusbtn{
        flex-grow: 0;
        padding: 0 3px;
        font-size:2.25em;
        line-height: .8em;
        vertical-align: bottom;
        margin-top: 4px;
        color: green;
    }
    .contentx{
        padding: 0 1em;
        flex-basis: 100%;
    }
    .contentx > *{
        border-radius: 3px;
        box-shadow: 0 0 5px #ccc;
        flex-basis: 100%;
    }
    .contentx input{
        border:1px solid #eee;
        width: calc( 100% - 1.8em );
        margin-top: 6px;
    }
    .contentx label{
        padding-top: .8em;
    }
    .contentx select{
        padding: .4em 1em;
    }
    .contentx option{
        line-height: 1.5em;
    }
</style>
<script>
    const addbtn = function(evt){
        let org = evt.target.parentNode;
        let tmp = org.outerHTML;
        evt.target.outerHTML = '<a onclick="this.parentNode.outerHTML=\'\'" data-icon="&#xf146;" class="minusbtn"></a>';
        org.insertAdjacentHTML('afterEnd', tmp);
    };
</script>